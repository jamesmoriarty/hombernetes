# ---
# apiVersion: source.toolkit.fluxcd.io/v1beta1
# kind: HelmRepository
# metadata:
#   name: influxdata
#   namespace: default
# spec:
#   interval: 1h
#   url: https://helm.influxdata.com/
# ---
# apiVersion: helm.toolkit.fluxcd.io/v2beta1
# kind: HelmRelease
# metadata:
#   name: influxdb2
#   namespace:  default
# spec:
#   interval: 5m
#   chart:
#     spec:
#       chart: influxdb2
#       version: 1.1.0
#       sourceRef:
#         kind: HelmRepository
#         name: influxdata
#         namespace: default
#       interval: 10m
#   values: # https://github.com/influxdata/helm-charts/blob/master/charts/influxdb2/values.yaml
#     adminUser:
#       user: admin
#       password: password
#     persistence:
#       enabled: false
# ---
# apiVersion: networking.k8s.io/v1
# kind: Ingress
# metadata:
#   name: influxdb2
#   namespace: default
#   annotations:
#     external-dns.alpha.kubernetes.io/hostname: 'influxdb.home.jamesmoriarty.xyz'
# spec:
#   rules:
#   - host: 'influxdb.home.jamesmoriarty.xyz'
#     http:
#       paths:
#       - path: /
#         pathType: Prefix
#         backend:
#           service:
#             name: influxdb2
#             port:
#               number: 80